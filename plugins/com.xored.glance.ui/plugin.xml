<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
	<extension-point id="sources" name="sources" schema="schema/sources.exsd"/>
	<extension-point id="excludedSources" name="excludedSources" schema="schema/excludedSources.exsd"/>
	
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            commandId="com.xored.glance.commands.open"
            class="com.xored.glance.internal.ui.OpenSearchPanelHandler">
      </handler>
   </extension>

   <extension point="org.eclipse.ui.startup">
      <startup class="com.xored.glance.internal.ui.GlanceStartup"/>
   </extension>

	<extension point="org.eclipse.ui.commands">
		<command
			name="Search with Glance"
			description="Open Glance Search Panel"
			categoryId="org.eclipse.ui.category.window"
			id="com.xored.glance.commands.open"/>
	</extension>
	
	<extension point="org.eclipse.ui.bindings">
		<key
			sequence="M1+M3+F"
			contextId="org.eclipse.ui.contexts.dialogAndWindow"
			commandId="com.xored.glance.commands.open"
			schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"/>
		<sequenceModifier find="M1+M3" replace="M1+M4" platforms="cocoa,carbon"/>
	</extension>

	<extension point="org.eclipse.ui.preferencePages">
		<page
			class="com.xored.glance.internal.ui.preferences.GlancePreferencePage"
			id="com.xored.glance.ui.preference"
			category="org.eclipse.ui.preferencePages.Workbench"
			name="Glance Search"/>
	</extension>

	<extension point="org.eclipse.core.runtime.preferences">
		<initializer class="com.xored.glance.internal.ui.preferences.GlancePreferenceInitializer"/>
	</extension>

	<extension point="org.eclipse.core.resources.markers" id="marker" name="Glance Results">
		<super type="org.eclipse.core.resources.textmarker"/>
		<attribute name="line"/>
	</extension>
	
	<extension point="org.eclipse.ui.ide.markerImageProviders">
		<imageprovider 
			id="com.xored.glance.ui.markerProvider"
			markertype="com.xored.glance.ui.marker"
			icon="icons/marker.gif">
		</imageprovider>
	</extension>
	
	<extension point="org.eclipse.ui.editors.annotationTypes">
		<type
			name="com.xored.glance.ui.highlight"
			markerType="com.xored.glance.ui.marker">
		</type>
  <type
        markerType="com.xored.glance.ui.marker"
        name="com.xored.glance.ui.select">
  </type>
	</extension>
	
	<extension point="org.eclipse.ui.editors.markerAnnotationSpecification">
		<specification
			annotationType="com.xored.glance.ui.highlight"
			label="Glance Results"
			icon="icons/marker.gif"
			textPreferenceKey="glanceText"
			textPreferenceValue="false"
			highlightPreferenceKey="glanceHighlight"
			highlightPreferenceValue="true"
			overviewRulerPreferenceKey="glanceOverviewRuler"
			overviewRulerPreferenceValue="true"
			verticalRulerPreferenceKey="glanceVerticalRuler"
			verticalRulerPreferenceValue="true"
			colorPreferenceKey="glanceColorBackground"
			colorPreferenceValue="255,255,128"
			presentationLayer="5"
			showInNextPrevDropdownToolbarActionKey="glanceShowNextPrev"
			showInNextPrevDropdownToolbarAction="true"
			isGoToNextNavigationTargetKey="glanceGoNext"
			isGoToNextNavigationTarget="false"
			isGoToPreviousNavigationTargetKey="glanceGoPrev"
			isGoToPreviousNavigationTarget="false">
		</specification>
  <specification
        annotationType="com.xored.glance.ui.select"
        colorPreferenceKey="glanceSelectedColorBackground"
        colorPreferenceValue="255,128,0"
        highlightPreferenceKey="glanceHighlight"
        highlightPreferenceValue="true"
        icon="icons/marker.gif"
        isGoToNextNavigationTarget="false"
        isGoToNextNavigationTargetKey="glanceGoNext"
        isGoToPreviousNavigationTarget="false"
        isGoToPreviousNavigationTargetKey="glanceGoPrev"
        label="Glance Selected Result"
        overviewRulerPreferenceKey="glanceOverviewRuler"
        overviewRulerPreferenceValue="true"
        presentationLayer="6"
        showInNextPrevDropdownToolbarAction="true"
        showInNextPrevDropdownToolbarActionKey="glanceShowNextPrev"
        textPreferenceKey="glanceText"
        textPreferenceValue="false"
        verticalRulerPreferenceKey="glanceVerticalRuler"
        verticalRulerPreferenceValue="true">
  </specification>
	</extension>
</plugin>
